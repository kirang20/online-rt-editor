"use strict";angular.module("editorDemoApp",["ngRoute","ngCkeditor"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("editorDemoApp").factory("customersFactory",["$http",function(a){return{get:function(){var b="resources/customers.json";return a.get(b).then(function(a){return a.data})}}}]),angular.module("editorDemoApp").factory("chaptersFactory",["$http",function(a){return{get:function(){var b="resources/chapters.json";return a.get(b).then(function(a){return a.data})}}}]),angular.module("editorDemoApp").factory("editorConfigFactory",["$http",function(a){return{get:function(){var b="resources/editorConfig.json";return a.get(b).then(function(a){return a.data})}}}]),angular.module("editorDemoApp").controller("MainCtrl",["$scope","editorConfigFactory","customersFactory","chaptersFactory",function(a,b,c,d){b.get(function(b){a.editorOptions=b}),a.canChapterBeSaved=!0,a.customerSelected=function(b){a.filteredChapters=a.chapters.filter(function(a){return a.customer===b.name}),a.selectedChapter=a.filteredChapters[0],a.selectedChapterContents=a.filteredChapters[0].contents,a.customers.forEach(function(a){a.state="inActive"}),b.state="active",a.chapterSelected(a.selectedChapter)},a.chapterSelected=function(b){a.selectedChapter=b,a.selectedChapterContents=b.contents,a.chapters.forEach(function(a){a.state="inActive"}),b.state="active"},a.saveChapter=function(){a.selectedChapter.contents=a.selectedChapterContents,a.canChapterBeSaved=!1,setTimeout(function(){a.$apply(function(){a.canChapterBeSaved=!0})},1e3)},c.get().then(function(b){a.customers=b}).then(function(){d.get().then(function(b){a.chapters=b,a.selectedCustomer=a.customers[0],a.customerSelected(a.selectedCustomer)})})}]);